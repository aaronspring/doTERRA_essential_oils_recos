services:
  - type: web
    name: doterra-backend
    runtime: python
    buildCommand: pip install --upgrade pip && pip install -r requirements.txt
    startCommand: uvicorn backend.main:app --host 0.0.0.0 --port $PORT
    envVars:
      - key: QDRANT_HOST
        sync: false
      - key: QDRANT_PORT
        value: 6333
      - key: QDRANT_COLLECTION
        value: essential_oils
      - key: MODEL_NAME
        value: jinaai/jina-embeddings-v2-base-de
      - key: ALLOWED_ORIGINS
        sync: false
      - key: PERPLEXITY_API_KEY
        sync: false
      - key: LANGFUSE_PUBLIC_KEY
        sync: false
      - key: LANGFUSE_SECRET_KEY
        sync: false
      - key: LANGFUSE_HOST
        value: https://cloud.langfuse.com
